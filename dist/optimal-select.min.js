var OptimalSelect=(()=>{var E=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var G=Object.getOwnPropertyNames;var J=Object.prototype.hasOwnProperty;var B=(n,e)=>{for(var s in e)E(n,s,{get:e[s],enumerable:!0})},W=(n,e,s,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let t of G(e))!J.call(n,t)&&t!==s&&E(n,t,{get:()=>e[t],enumerable:!(r=F(e,t))||r.enumerable});return n};var X=n=>W(E({},"__esModule",{value:!0}),n);var et={};B(et,{common:()=>M,default:()=>tt,getMultiSelector:()=>z,getSingleSelector:()=>T,optimize:()=>S,select:()=>C});function A(n,e){if(global.document)return!1;global.document=e.context||(()=>{for(var r=n;r.parent;)r=r.parent;return r})();let s=Object.getPrototypeOf(global.document);return Object.getOwnPropertyDescriptor(s,"childTags")||Object.defineProperty(s,"childTags",{enumerable:!0,get(){return this.children.filter(r=>r.type==="tag"||r.type==="script"||r.type==="style")}}),Object.getOwnPropertyDescriptor(s,"attributes")||Object.defineProperty(s,"attributes",{enumerable:!0,get(){let{attribs:r}=this,t=Object.keys(r),o=t.reduce((i,c,a)=>(i[a]={name:c,value:r[c]},i),{});return Object.defineProperty(o,"length",{enumerable:!1,configurable:!1,value:t.length}),o}}),s.getAttribute||(s.getAttribute=function(r){return this.attribs[r]||null}),s.getElementsByTagName||(s.getElementsByTagName=function(r){let t=[];return k(this.childTags,o=>{(o.name===r||r==="*")&&t.push(o)}),t}),s.getElementsByClassName||(s.getElementsByClassName=function(r){let t=r.trim().replace(/\s+/g," ").split(" "),o=[];return k([this],i=>{let c=i.attribs.class;c&&t.every(a=>c.indexOf(a)>-1)&&o.push(i)}),o}),s.querySelectorAll||(s.querySelectorAll=function(r){r=r.replace(/(>)(\S)/g,"$1 $2").trim();let t=Y(r),o=t.shift(),i=t.length;return o(this).filter(c=>{for(var a=0;a<i;){if(c=t[a](c,this),!c)return!1;a+=1}return!0})}),s.contains||(s.contains=function(r){var t=!1;return k([this],(o,i)=>{o===r&&(t=!0,i())}),t}),!0}function Y(n){return n.split(" ").reverse().map((e,s)=>{let r=s===0,[t,o]=e.split(":");var i=null,c=null;switch(!0){case/>/.test(t):c=function(f){return d=>d(f.parent)&&f.parent};break;case/^\./.test(t):let l=t.substr(1).split(".");i=m=>{let f=m.attribs.class;return f&&l.every(d=>f.indexOf(d)>-1)},c=function(f,d){return r?f.getElementsByClassName(l.join(" ")):typeof f=="function"?f(i):j(f,d,i)};break;case/^\[/.test(t):let[p,y]=t.replace(/\[|\]|"/g,"").split("=");i=m=>Object.keys(m.attribs).indexOf(p)>-1&&(!y||m.attribs[p]===y),c=function(f,d){if(r){let v=[];return k([f],$=>{i($)&&v.push($)}),v}return typeof f=="function"?f(i):j(f,d,i)};break;case/^#/.test(t):let b=t.substr(1);i=m=>m.attribs.id===b,c=function(f,d){if(r){let v=[];return k([f],($,U)=>{i($)&&(v.push($),U())}),v}return typeof f=="function"?f(i):j(f,d,i)};break;case/\*/.test(t):i=m=>!0,c=function(f,d){if(r){let v=[];return k([f],$=>v.push($)),v}return typeof f=="function"?f(i):j(f,d,i)};break;default:i=m=>m.name===t,c=function(f,d){if(r){let v=[];return k([f],$=>{i($)&&v.push($)}),v}return typeof f=="function"?f(i):j(f,d,i)}}if(!o)return c;let a=o.match(/-(child|type)\((\d+)\)$/),u=a[1],h=parseInt(a[2],10)-1,g=l=>{if(l){var p=l.parent.childTags;if(u==="type"&&(p=p.filter(i)),p.findIndex(b=>b===l)===h)return!0}return!1};return function(p){let y=c(p);return r?y.reduce((b,m)=>(g(m)&&b.push(m),b),[]):g(y)&&y}})}function k(n,e){n.forEach(s=>{var r=!0;e(s,()=>r=!1),s.childTags&&r&&k(s.childTags,e)})}function j(n,e,s){for(;n.parent;){if(n=n.parent,s(n))return n;if(n===e)break}return null}function w(n){let{length:e}=n,s=new Array(e);for(var r=0;r<e;r++)s[r]=n[r];return s}function x(n){return n&&n.replace(/['"`\\/:\?&!#$%^()[\]{|}*+;,.<=>@~]/g,"\\$&").replace(/\n/g,"A")}var V={attribute(n){return["style","data-reactid","data-react-checksum"].indexOf(n)>-1}};function I(n,e){let{root:s=document,skip:r=null,priority:t=["id","class","href","src"],ignore:o={}}=e,i=[];var c=n,a=i.length,u=!1;let h=r&&(Array.isArray(r)?r:[r]).map(l=>typeof l!="function"?p=>p===l:l),g=l=>r&&h.some(p=>p(l));if(Object.keys(o).forEach(l=>{l==="class"&&(u=!0);var p=o[l];typeof p!="function"&&(typeof p=="number"&&(p=p.toString()),typeof p=="string"&&(p=new RegExp(x(p).replace(/\\/g,"\\\\"))),typeof p=="boolean"&&(p=p?/(?:)/:/.^/),o[l]=(y,b)=>p.test(b))}),u){let l=o.attribute;o.attribute=(p,y,b)=>o.class(y)||l&&l(p,y,b)}for(;c!==s;){if(g(c)!==!0){if(H(t,c,o,i,s)||D(c,o,i,s))break;H(t,c,o,i),i.length===a&&D(c,o,i),i.length===a&&Z(t,c,o,i)}c=c.parentNode,a=i.length}if(c===s){let l=K(t,c,o);i.unshift(l)}return i.join(" ")}function H(n,e,s,r,t=e.parentNode){let o=P(n,e,s);return o&&t.querySelectorAll(o).length===1?(r.unshift(o),!0):!1}function P(n,e,s){let r=e.attributes,t=Object.keys(r).sort((a,u)=>{let h=n.indexOf(r[a].name),g=n.indexOf(r[u].name);return g===-1?h===-1?0:-1:h-g});for(var o=0,i=t.length;o<i;o++){let a=t[o],u=r[a],h=u.name,g=x(u.value),l=s[h]||s.attribute,p=V[h]||V.attribute;if(!Q(l,h,g,p)){var c=`[${h}="${g}"]`;return/\b\d/.test(g)===!1&&(h==="id"&&(c=`#${g}`),h==="class"&&(c=`.${g.trim().replace(/\s+/g,".")}`)),c}}return null}function D(n,e,s,r=n.parentNode){let t=R(n,e);return t&&r.getElementsByTagName(t).length===1?(s.unshift(t),!0):!1}function R(n,e){let s=n.tagName.toLowerCase();return Q(e.tag,null,s)?null:s}function Z(n,e,s,r){let t=e.parentNode,o=t.childTags||t.children;for(var i=0,c=o.length;i<c;i++){let a=o[i];if(a===e){let u=K(n,a,s);if(!u)return console.warn(`
          Element couldn't be matched through strict ignore pattern!
        `,a,s,u);let h=`> ${u}:nth-child(${i+1})`;return r.unshift(h),!0}}return!1}function K(n,e,s){var r=P(n,e,s);return r||(r=R(e,s)),r}function Q(n,e,s,r){if(!s)return!0;let t=n||r;return t?t(e,s,r):!1}function S(n,e,s={}){if(Array.isArray(e)||(e=e.length?w(e):[e]),!e.length||e.some(i=>i.nodeType!==1))throw new Error('Invalid input - to compare HTMLElements its necessary to provide a reference of the selected node(s)! (missing "elements")');let r=A(e[0],s);var t=n.replace(/> /g,">").split(/\s+(?=(?:(?:[^"]*"){2})*[^"]*$)/);if(t.length<2)return O("",n,"",e);let o=[t.pop()];for(;t.length>1;){let i=t.pop(),c=t.join(" "),a=o.join(" "),u=`${c} ${a}`;document.querySelectorAll(u).length!==e.length&&o.unshift(O(c,i,a,e))}return o.unshift(t[0]),t=o,t[0]=O("",t[0],t.slice(1).join(" "),e),t[t.length-1]=O(t.slice(0,-1).join(" "),t[t.length-1],"",e),r&&delete global.document,t.join(" ").replace(/>/g,"> ").trim()}function O(n,e,s,r){if(n.length&&(n=`${n} `),s.length&&(s=` ${s}`),/\[*\]/.test(e)){let u=e.replace(/=.*$/,"]");var t=`${n}${u}${s}`,o=document.querySelectorAll(t);if(N(o,r))e=u;else{let h=document.querySelectorAll(`${n}${u}`);for(var i=0,c=h.length;i<c;i++){let g=h[i];if(r.some(l=>g.contains(l))){let l=g.tagName.toLowerCase();var t=`${n}${l}${s}`,o=document.querySelectorAll(t);N(o,r)&&(e=l);break}}}}if(/>/.test(e)){let u=e.replace(/>/,"");var t=`${n}${u}${s}`,o=document.querySelectorAll(t);N(o,r)&&(e=u)}if(/:nth-child/.test(e)){let u=e.replace(/nth-child/g,"nth-of-type");var t=`${n}${u}${s}`,o=document.querySelectorAll(t);N(o,r)&&(e=u)}if(/\.\S+\.\S+/.test(e)){for(var a=e.trim().split(".").slice(1).map(u=>`.${u}`).sort((u,h)=>u.length-h.length);a.length;){let u=e.replace(a.shift(),"").trim();var t=`${n}${u}${s}`.trim();if(!t.length||t.charAt(0)===">"||t.charAt(t.length-1)===">")break;var o=document.querySelectorAll(t);N(o,r)&&(e=u)}if(a=e&&e.match(/\./g),a&&a.length>2){let u=document.querySelectorAll(`${n}${e}`);for(var i=0,c=u.length;i<c;i++){let l=u[i];if(r.some(p=>l.contains(p))){let p=l.tagName.toLowerCase();var t=`${n}${p}${s}`,o=document.querySelectorAll(t);N(o,r)&&(e=p);break}}}}return e}function N(n,e){let{length:s}=n;return s===e.length&&e.every(r=>{for(var t=0;t<s;t++)if(n[t]===r)return!0;return!1})}var M={};B(M,{getCommonAncestor:()=>L,getCommonProperties:()=>q});function L(n,e={}){let{root:s=document}=e,r=[];n.forEach((a,u)=>{let h=[];for(;a!==s;)a=a.parentNode,h.unshift(a);r[u]=h}),r.sort((a,u)=>a.length-u.length);let t=r.shift();for(var o=null,i=0,c=t.length;i<c;i++){let a=t[i];if(r.some(h=>!h.some(g=>g===a)))break;o=a}return o}function q(n,e={}){let{ignore:s={}}=e,r={};Object.keys(s).forEach(i=>{var c=s[i];if(typeof c=="function"){r[i]=c;return}typeof c=="number"&&(c=c.toString()),typeof c=="string"&&(c=new RegExp(x(c).replace(/\\/g,"\\\\"))),typeof c=="boolean"&&(c=c?/(?:)/:/.^/),r[i]=(a,u)=>c.test(u)});let t=(i,c,a)=>{let u=r[i];return u?u(c,a):!1},o={classes:[],attributes:{},tag:null};return n.forEach(i=>{var{classes:c,attributes:a,tag:u}=o;if(c!==void 0){var h=i.getAttribute("class");h?(h=h.trim().split(" ").filter(g=>!t("class",g,g)),h.length?c.length?(c=c.filter(g=>h.some(l=>l===g)),c.length?o.classes=c:delete o.classes):o.classes=h:delete o.classes):delete o.classes}if(a!==void 0){let g=i.attributes,l=Object.keys(g).reduce((b,m)=>{let f=g[m],d=f.name,v=f.value;return f&&d!=="class"&&!t(d,d,v)&&!t("attribute",d,v)&&(b[d]=v),b},{}),p=Object.keys(l),y=Object.keys(a);p.length?y.length?(a=y.reduce((b,m)=>{let f=a[m];return f===l[m]&&(b[m]=f),b},{}),Object.keys(a).length?o.attributes=a:delete o.attributes):o.attributes=l:delete o.attributes}if(u!==void 0){let g=i.tagName.toLowerCase();t("tag",null,g)?delete o.tag:u?g!==u&&delete o.tag:o.tag=g}}),o}function T(n,e={}){if(n.nodeType===3&&(n=n.parentNode),n.nodeType!==1)throw new Error(`Invalid input - only HTMLElements or representations of them are supported! (not "${typeof n}")`);let s=A(n,e),r=I(n,e),t=S(r,n,e);return s&&delete global.document,t}function z(n,e={}){if(Array.isArray(n)||(n=w(n)),n.some(u=>u.nodeType!==1))throw new Error("Invalid input - only an Array of HTMLElements or representations of them is supported!");let s=A(n[0],e),r=L(n,e),t=T(r,e),i=_(n,e)[0],c=S(`${t} ${i}`,n,e),a=w(document.querySelectorAll(c));return n.every(u=>a.some(h=>h===u))?(s&&delete global.document,c):console.warn(`
      The selected elements can't be efficiently mapped.
      Its probably best to use multiple single selectors instead!
    `,n)}function _(n,e={}){let{classes:s,attributes:r,tag:t}=q(n,e),o=[];if(t&&o.push(t),s){let i=s.map(c=>`.${c}`).join("");o.push(i)}if(r){let i=Object.keys(r).reduce((c,a)=>(c.push(`[${a}="${r[a]}"]`),c),[]).join("");o.push(i)}return o.length,[o.join("")]}function C(n,e={}){return n.length&&!n.name?z(n,e):T(n,e)}var tt=C;return X(et);})();
